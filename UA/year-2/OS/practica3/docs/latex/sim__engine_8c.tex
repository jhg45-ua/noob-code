\doxysection{Referencia del archivo src/sim\+\_\+engine.c}
\hypertarget{sim__engine_8c}{}\label{sim__engine_8c}\index{src/sim\_engine.c@{src/sim\_engine.c}}
{\ttfamily \#include "{}sim\+\_\+engine.\+h"{}}\newline
{\ttfamily \#include "{}ficheros.\+h"{}}\newline
{\ttfamily \#include "{}file\+\_\+utils.\+h"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Gráfico de dependencias incluidas en sim\+\_\+engine.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sim__engine_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{sim__engine_8c_a7525ea6570ccf752c8e9394b62042380}{inicializar\+\_\+memoria}} (\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}m)
\begin{DoxyCompactList}\small\item\em Inicializa la memoria con un único hueco libre. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sim__engine_8c_a6df7a5ff87dd2abca3c64b3dcc88cf5a}{mostrar\+\_\+estado}} (\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}m)
\begin{DoxyCompactList}\small\item\em Muestra el estado actual de la memoria en consola. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sim__engine_8c_a6a1089ddf1a175f89c026b773722dcd2}{ocupar\+\_\+memoria}} (\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}m, int indice\+\_\+hueco, \mbox{\hyperlink{struct_proceso}{Proceso}} p)
\begin{DoxyCompactList}\small\item\em Ocupa un hueco de memoria con un proceso. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sim__engine_8c_a949ea609798d43a638d95faf7de9f681}{compactar}} (\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}m)
\begin{DoxyCompactList}\small\item\em Compacta la memoria uniendo huecos adyacentes. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{sim__engine_8c_a9a4646e9f9e8b178131b41945f7a8544}{liberar\+\_\+proceso}} (\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}m, char \texorpdfstring{$\ast$}{*}nombre\+\_\+proceso)
\begin{DoxyCompactList}\small\item\em Libera un proceso de la memoria. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sim__engine_8c_a8f367671cb683a6dd983d657251a170b}{buscar\+\_\+hueco}} (\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}m, int mem\+\_\+requerida, \mbox{\hyperlink{sim__engine_8h_a186bb3e10a143cf48bda6c8d819869a6}{Tipo\+Algo}} tipo\+\_\+algo)
\begin{DoxyCompactList}\small\item\em Busca un hueco adecuado según el algoritmo especificado. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sim__engine_8c_ab6fef50a2cde39099d3c051aa7975738}{alinear\+\_\+size}} (int size)
\begin{DoxyCompactList}\small\item\em Alinea un tamaño a múltiplos de UNIDAD\+\_\+\+MINIMA. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{sim__engine_8c_a47eaa39f311ae4f19e76eb9baca390d7}{asignar\+\_\+proceso}} (\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}m, \mbox{\hyperlink{struct_proceso}{Proceso}} p, \mbox{\hyperlink{sim__engine_8h_a186bb3e10a143cf48bda6c8d819869a6}{Tipo\+Algo}} tipo\+\_\+algo)
\begin{DoxyCompactList}\small\item\em Asigna un proceso a la memoria. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sim__engine_8c_a099adf88ebe7183b00ddc648cc1ffa5b}{avanzar\+\_\+tiempo}} (\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}m, \mbox{\hyperlink{struct_proceso}{Proceso}} procesos\mbox{[}$\,$\mbox{]}, int num\+\_\+procesos, int \texorpdfstring{$\ast$}{*}reloj\+\_\+actual, \mbox{\hyperlink{sim__engine_8h_a186bb3e10a143cf48bda6c8d819869a6}{Tipo\+Algo}} algo, const char \texorpdfstring{$\ast$}{*}ruta\+\_\+log)
\begin{DoxyCompactList}\small\item\em Avanza un tick en la simulación. \end{DoxyCompactList}\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{sim__engine_8c_doc-func-members}
\doxysubsection{Documentación de funciones}
\Hypertarget{sim__engine_8c_ab6fef50a2cde39099d3c051aa7975738}\index{sim\_engine.c@{sim\_engine.c}!alinear\_size@{alinear\_size}}
\index{alinear\_size@{alinear\_size}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{alinear\_size()}{alinear\_size()}}
{\footnotesize\ttfamily \label{sim__engine_8c_ab6fef50a2cde39099d3c051aa7975738} 
int alinear\+\_\+size (\begin{DoxyParamCaption}\item[{int}]{size}{}\end{DoxyParamCaption})}



Alinea un tamaño a múltiplos de UNIDAD\+\_\+\+MINIMA. 

Redondea hacia arriba para garantizar que la memoria asignada sea siempre múltiplo de 100.


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in}}  & {\em size} & Tamaño solicitado original\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
Tamaño alineado (múltiplo de UNIDAD\+\_\+\+MINIMA)
\end{DoxyReturn}
\begin{DoxyParagraph}{Ejemplos\+:}

\begin{DoxyItemize}
\item alinear\+\_\+size(50) → 100
\item alinear\+\_\+size(100) → 100 ~\newline

\item alinear\+\_\+size(243) → 300 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00151}{151}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8h_source_l00039}{UNIDAD\+\_\+\+MINIMA}}.



Referenciado por \mbox{\hyperlink{sim__engine_8c_source_l00167}{asignar\+\_\+proceso()}}.

Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sim__engine_8c_ab6fef50a2cde39099d3c051aa7975738_icgraph}
\end{center}
\end{figure}
\Hypertarget{sim__engine_8c_a47eaa39f311ae4f19e76eb9baca390d7}\index{sim\_engine.c@{sim\_engine.c}!asignar\_proceso@{asignar\_proceso}}
\index{asignar\_proceso@{asignar\_proceso}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{asignar\_proceso()}{asignar\_proceso()}}
{\footnotesize\ttfamily \label{sim__engine_8c_a47eaa39f311ae4f19e76eb9baca390d7} 
bool asignar\+\_\+proceso (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}}]{m}{, }\item[{\mbox{\hyperlink{struct_proceso}{Proceso}}}]{p}{, }\item[{\mbox{\hyperlink{sim__engine_8h_a186bb3e10a143cf48bda6c8d819869a6}{Tipo\+Algo}}}]{tipo\+\_\+algo}{}\end{DoxyParamCaption})}



Asigna un proceso a la memoria. 

Realiza el flujo completo de asignación\+:
\begin{DoxyEnumerate}
\item Alinea la memoria requerida
\item Busca un hueco según el algoritmo
\item Ocupa el hueco encontrado
\end{DoxyEnumerate}


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in,out}}  & {\em m} & Puntero a la estructura de memoria \\
\hline
\mbox{\texttt{in}}  & {\em p} & \doxylink{struct_proceso}{Proceso} a asignar \\
\hline
\mbox{\texttt{in}}  & {\em tipo\+\_\+algo} & Algoritmo de búsqueda a usar\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
true si se asignó correctamente 

false si no hay espacio suficiente
\end{DoxyReturn}
\begin{DoxySeeAlso}{Ver también}
\doxylink{sim__engine_8h_ab6fef50a2cde39099d3c051aa7975738}{alinear\+\_\+size()}, \doxylink{sim__engine_8h_a8f367671cb683a6dd983d657251a170b}{buscar\+\_\+hueco()}, \doxylink{sim__engine_8h_a6a1089ddf1a175f89c026b773722dcd2}{ocupar\+\_\+memoria()} 
\end{DoxySeeAlso}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00167}{167}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8c_source_l00151}{alinear\+\_\+size()}}, \mbox{\hyperlink{sim__engine_8c_source_l00118}{buscar\+\_\+hueco()}}, \mbox{\hyperlink{sim__engine_8h_source_l00060}{Proceso\+::mem\+\_\+requerida}}, \mbox{\hyperlink{sim__engine_8h_source_l00058}{Proceso\+::nombre}} y \mbox{\hyperlink{sim__engine_8c_source_l00031}{ocupar\+\_\+memoria()}}.



Referenciado por \mbox{\hyperlink{sim__engine_8c_source_l00189}{avanzar\+\_\+tiempo()}}.

Gráfico de llamadas de esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=291pt]{sim__engine_8c_a47eaa39f311ae4f19e76eb9baca390d7_cgraph}
\end{center}
\end{figure}
Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sim__engine_8c_a47eaa39f311ae4f19e76eb9baca390d7_icgraph}
\end{center}
\end{figure}
\Hypertarget{sim__engine_8c_a099adf88ebe7183b00ddc648cc1ffa5b}\index{sim\_engine.c@{sim\_engine.c}!avanzar\_tiempo@{avanzar\_tiempo}}
\index{avanzar\_tiempo@{avanzar\_tiempo}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{avanzar\_tiempo()}{avanzar\_tiempo()}}
{\footnotesize\ttfamily \label{sim__engine_8c_a099adf88ebe7183b00ddc648cc1ffa5b} 
void avanzar\+\_\+tiempo (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}}]{m}{, }\item[{\mbox{\hyperlink{struct_proceso}{Proceso}}}]{procesos}{\mbox{[}$\,$\mbox{]}, }\item[{int}]{num\+\_\+procesos}{, }\item[{int \texorpdfstring{$\ast$}{*}}]{reloj\+\_\+actual}{, }\item[{\mbox{\hyperlink{sim__engine_8h_a186bb3e10a143cf48bda6c8d819869a6}{Tipo\+Algo}}}]{algo}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{ruta\+\_\+log}{}\end{DoxyParamCaption})}



Avanza un tick en la simulación. 

Ejecuta la lógica de un instante de tiempo\+:
\begin{DoxyEnumerate}
\item Envejece procesos en memoria (decrementa t\+\_\+restante)
\item Finaliza procesos cuyo tiempo restante llegó a 0
\item Intenta cargar nuevos procesos de la cola
\item Guarda el estado en el log
\item Incrementa el reloj
\end{DoxyEnumerate}


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in,out}}  & {\em m} & Puntero a la estructura de memoria \\
\hline
\mbox{\texttt{in,out}}  & {\em procesos} & Array de procesos a gestionar \\
\hline
\mbox{\texttt{in}}  & {\em num\+\_\+procesos} & Número de procesos en el array \\
\hline
\mbox{\texttt{in,out}}  & {\em reloj\+\_\+actual} & Puntero al reloj de simulación \\
\hline
\mbox{\texttt{in}}  & {\em algo} & Algoritmo de asignación a utilizar \\
\hline
\mbox{\texttt{in}}  & {\em ruta\+\_\+log} & Ruta del archivo de log para guardar estado\\
\hline
\end{DoxyParams}
\begin{DoxyPostcond}{Postcondición}
(\texorpdfstring{$\ast$}{*}reloj\+\_\+actual) se incrementa en 1 
\end{DoxyPostcond}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00189}{189}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8c_source_l00167}{asignar\+\_\+proceso()}}, \mbox{\hyperlink{sim__engine_8h_source_l00066}{Proceso\+::en\+\_\+memoria}}, \mbox{\hyperlink{sim__engine_8h_source_l00067}{Proceso\+::finalizado}}, \mbox{\hyperlink{ficheros_8c_source_l00064}{guardar\+\_\+estado()}}, \mbox{\hyperlink{sim__engine_8c_source_l00100}{liberar\+\_\+proceso()}}, \mbox{\hyperlink{sim__engine_8h_source_l00061}{Proceso\+::t\+\_\+ejecucion}} y \mbox{\hyperlink{sim__engine_8h_source_l00065}{Proceso\+::t\+\_\+restante}}.



Referenciado por \mbox{\hyperlink{main_8c_source_l00177}{run\+\_\+gui()}} y \mbox{\hyperlink{main_8c_source_l00095}{test\+\_\+sim()}}.

Gráfico de llamadas de esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sim__engine_8c_a099adf88ebe7183b00ddc648cc1ffa5b_cgraph}
\end{center}
\end{figure}
Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{sim__engine_8c_a099adf88ebe7183b00ddc648cc1ffa5b_icgraph}
\end{center}
\end{figure}
\Hypertarget{sim__engine_8c_a8f367671cb683a6dd983d657251a170b}\index{sim\_engine.c@{sim\_engine.c}!buscar\_hueco@{buscar\_hueco}}
\index{buscar\_hueco@{buscar\_hueco}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{buscar\_hueco()}{buscar\_hueco()}}
{\footnotesize\ttfamily \label{sim__engine_8c_a8f367671cb683a6dd983d657251a170b} 
int buscar\+\_\+hueco (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}}]{m}{, }\item[{int}]{mem\+\_\+requerida}{, }\item[{\mbox{\hyperlink{sim__engine_8h_a186bb3e10a143cf48bda6c8d819869a6}{Tipo\+Algo}}}]{tipo\+\_\+algo}{}\end{DoxyParamCaption})}



Busca un hueco adecuado según el algoritmo especificado. 

Implementa los algoritmos\+:
\begin{DoxyItemize}
\item {\bfseries{First Fit}}\+: Busca desde el inicio (O(n) peor caso)
\item {\bfseries{Next Fit}}\+: Busca desde última posición (búsqueda circular)
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in}}  & {\em m} & Puntero a la estructura de memoria \\
\hline
\mbox{\texttt{in}}  & {\em mem\+\_\+requerida} & \doxylink{struct_memoria}{Memoria} requerida (ya alineada) \\
\hline
\mbox{\texttt{in}}  & {\em tipo\+\_\+algo} & Algoritmo a utilizar\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
Índice del hueco encontrado (0 a cant\+\_\+particiones-\/1) 

-\/1 si no hay hueco suficiente 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00118}{118}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8h_source_l00103}{ALGO\+\_\+\+PRIMER\+\_\+\+HUECO}}, \mbox{\hyperlink{sim__engine_8h_source_l00104}{ALGO\+\_\+\+SIGUIENTE\+\_\+\+HUECO}}, \mbox{\hyperlink{sim__engine_8h_source_l00092}{Memoria\+::cant\+\_\+particiones}}, \mbox{\hyperlink{sim__engine_8h_source_l00080}{Particion\+::estado}}, \mbox{\hyperlink{sim__engine_8h_source_l00091}{Memoria\+::particiones}}, \mbox{\hyperlink{sim__engine_8h_source_l00079}{Particion\+::tamano}} y \mbox{\hyperlink{sim__engine_8h_source_l00093}{Memoria\+::ultimo\+\_\+indice\+\_\+asignado}}.



Referenciado por \mbox{\hyperlink{sim__engine_8c_source_l00167}{asignar\+\_\+proceso()}}.

Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sim__engine_8c_a8f367671cb683a6dd983d657251a170b_icgraph}
\end{center}
\end{figure}
\Hypertarget{sim__engine_8c_a949ea609798d43a638d95faf7de9f681}\index{sim\_engine.c@{sim\_engine.c}!compactar@{compactar}}
\index{compactar@{compactar}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{compactar()}{compactar()}}
{\footnotesize\ttfamily \label{sim__engine_8c_a949ea609798d43a638d95faf7de9f681} 
void compactar (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}}]{m}{}\end{DoxyParamCaption})}



Compacta la memoria uniendo huecos adyacentes. 

Recorre las particiones y fusiona huecos consecutivos en uno solo. Se llama automáticamente después de liberar un proceso.


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in,out}}  & {\em m} & Puntero a la estructura de memoria\\
\hline
\end{DoxyParams}
\begin{DoxyPostcond}{Postcondición}
No hay dos huecos consecutivos en el array 

cant\+\_\+particiones puede disminuir 
\end{DoxyPostcond}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00079}{79}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8h_source_l00092}{Memoria\+::cant\+\_\+particiones}}, \mbox{\hyperlink{sim__engine_8h_source_l00080}{Particion\+::estado}}, \mbox{\hyperlink{sim__engine_8h_source_l00081}{Particion\+::nombre\+\_\+proceso}}, \mbox{\hyperlink{sim__engine_8h_source_l00091}{Memoria\+::particiones}} y \mbox{\hyperlink{sim__engine_8h_source_l00079}{Particion\+::tamano}}.



Referenciado por \mbox{\hyperlink{sim__engine_8c_source_l00100}{liberar\+\_\+proceso()}}.

Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sim__engine_8c_a949ea609798d43a638d95faf7de9f681_icgraph}
\end{center}
\end{figure}
\Hypertarget{sim__engine_8c_a7525ea6570ccf752c8e9394b62042380}\index{sim\_engine.c@{sim\_engine.c}!inicializar\_memoria@{inicializar\_memoria}}
\index{inicializar\_memoria@{inicializar\_memoria}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{inicializar\_memoria()}{inicializar\_memoria()}}
{\footnotesize\ttfamily \label{sim__engine_8c_a7525ea6570ccf752c8e9394b62042380} 
void inicializar\+\_\+memoria (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}}]{m}{}\end{DoxyParamCaption})}



Inicializa la memoria con un único hueco libre. 

Configura la memoria con una sola partición de tipo hueco que ocupa todo el espacio disponible (MEMORIA\+\_\+\+TOTAL).


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{out}}  & {\em m} & Puntero a la estructura de memoria a inicializar\\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondición}
m != NULL 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
m-\/\texorpdfstring{$>$}{>}cant\+\_\+particiones == 1 

m-\/\texorpdfstring{$>$}{>}particiones\mbox{[}0\mbox{]}.tamano == MEMORIA\+\_\+\+TOTAL 
\end{DoxyPostcond}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00007}{7}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8h_source_l00092}{Memoria\+::cant\+\_\+particiones}}, \mbox{\hyperlink{sim__engine_8h_source_l00078}{Particion\+::dir\+\_\+inicio}}, \mbox{\hyperlink{sim__engine_8h_source_l00080}{Particion\+::estado}}, \mbox{\hyperlink{sim__engine_8h_source_l00036}{MEMORIA\+\_\+\+TOTAL}}, \mbox{\hyperlink{sim__engine_8h_source_l00081}{Particion\+::nombre\+\_\+proceso}}, \mbox{\hyperlink{sim__engine_8h_source_l00091}{Memoria\+::particiones}}, \mbox{\hyperlink{sim__engine_8h_source_l00079}{Particion\+::tamano}} y \mbox{\hyperlink{sim__engine_8h_source_l00093}{Memoria\+::ultimo\+\_\+indice\+\_\+asignado}}.



Referenciado por \mbox{\hyperlink{main_8c_source_l00057}{main()}}, \mbox{\hyperlink{main_8c_source_l00177}{run\+\_\+gui()}} y \mbox{\hyperlink{main_8c_source_l00095}{test\+\_\+sim()}}.

Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{sim__engine_8c_a7525ea6570ccf752c8e9394b62042380_icgraph}
\end{center}
\end{figure}
\Hypertarget{sim__engine_8c_a9a4646e9f9e8b178131b41945f7a8544}\index{sim\_engine.c@{sim\_engine.c}!liberar\_proceso@{liberar\_proceso}}
\index{liberar\_proceso@{liberar\_proceso}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{liberar\_proceso()}{liberar\_proceso()}}
{\footnotesize\ttfamily \label{sim__engine_8c_a9a4646e9f9e8b178131b41945f7a8544} 
bool liberar\+\_\+proceso (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}}]{m}{, }\item[{char \texorpdfstring{$\ast$}{*}}]{nombre\+\_\+proceso}{}\end{DoxyParamCaption})}



Libera un proceso de la memoria. 

Busca el proceso por nombre, lo convierte en hueco y compacta.


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in,out}}  & {\em m} & Puntero a la estructura de memoria \\
\hline
\mbox{\texttt{in}}  & {\em nombre\+\_\+proceso} & Nombre del proceso a liberar\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
true si se encontró y liberó el proceso 

false si el proceso no estaba en memoria
\end{DoxyReturn}
\begin{DoxyNote}{Nota}
Llama automáticamente a \doxylink{sim__engine_8h_a949ea609798d43a638d95faf7de9f681}{compactar()} tras liberar 
\end{DoxyNote}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00100}{100}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8h_source_l00092}{Memoria\+::cant\+\_\+particiones}}, \mbox{\hyperlink{sim__engine_8c_source_l00079}{compactar()}}, \mbox{\hyperlink{sim__engine_8h_source_l00078}{Particion\+::dir\+\_\+inicio}}, \mbox{\hyperlink{sim__engine_8h_source_l00080}{Particion\+::estado}}, \mbox{\hyperlink{sim__engine_8h_source_l00081}{Particion\+::nombre\+\_\+proceso}} y \mbox{\hyperlink{sim__engine_8h_source_l00091}{Memoria\+::particiones}}.



Referenciado por \mbox{\hyperlink{sim__engine_8c_source_l00189}{avanzar\+\_\+tiempo()}}.

Gráfico de llamadas de esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{sim__engine_8c_a9a4646e9f9e8b178131b41945f7a8544_cgraph}
\end{center}
\end{figure}
Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sim__engine_8c_a9a4646e9f9e8b178131b41945f7a8544_icgraph}
\end{center}
\end{figure}
\Hypertarget{sim__engine_8c_a6df7a5ff87dd2abca3c64b3dcc88cf5a}\index{sim\_engine.c@{sim\_engine.c}!mostrar\_estado@{mostrar\_estado}}
\index{mostrar\_estado@{mostrar\_estado}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{mostrar\_estado()}{mostrar\_estado()}}
{\footnotesize\ttfamily \label{sim__engine_8c_a6df7a5ff87dd2abca3c64b3dcc88cf5a} 
void mostrar\+\_\+estado (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}}]{m}{}\end{DoxyParamCaption})}



Muestra el estado actual de la memoria en consola. 

Imprime cada partición en formato\+: \mbox{[}dir\+\_\+inicio nombre tamano\mbox{]}


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in}}  & {\em m} & Puntero a la estructura de memoria\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Nota}
Solo para depuración/\+TUI, no afecta el estado 
\end{DoxyNote}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00023}{23}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8h_source_l00092}{Memoria\+::cant\+\_\+particiones}}, \mbox{\hyperlink{sim__engine_8h_source_l00078}{Particion\+::dir\+\_\+inicio}}, \mbox{\hyperlink{sim__engine_8h_source_l00081}{Particion\+::nombre\+\_\+proceso}}, \mbox{\hyperlink{sim__engine_8h_source_l00091}{Memoria\+::particiones}} y \mbox{\hyperlink{sim__engine_8h_source_l00079}{Particion\+::tamano}}.



Referenciado por \mbox{\hyperlink{main_8c_source_l00095}{test\+\_\+sim()}}.

Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{sim__engine_8c_a6df7a5ff87dd2abca3c64b3dcc88cf5a_icgraph}
\end{center}
\end{figure}
\Hypertarget{sim__engine_8c_a6a1089ddf1a175f89c026b773722dcd2}\index{sim\_engine.c@{sim\_engine.c}!ocupar\_memoria@{ocupar\_memoria}}
\index{ocupar\_memoria@{ocupar\_memoria}!sim\_engine.c@{sim\_engine.c}}
\doxysubsubsection{\texorpdfstring{ocupar\_memoria()}{ocupar\_memoria()}}
{\footnotesize\ttfamily \label{sim__engine_8c_a6a1089ddf1a175f89c026b773722dcd2} 
int ocupar\+\_\+memoria (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_memoria}{Memoria}} \texorpdfstring{$\ast$}{*}}]{m}{, }\item[{int}]{indice\+\_\+hueco}{, }\item[{\mbox{\hyperlink{struct_proceso}{Proceso}}}]{p}{}\end{DoxyParamCaption})}



Ocupa un hueco de memoria con un proceso. 

Maneja dos casos\+:
\begin{DoxyItemize}
\item {\bfseries{Ajuste exacto}}\+: El proceso ocupa todo el hueco
\item {\bfseries{División}}\+: Se crea una nueva partición con el espacio sobrante
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in,out}}  & {\em m} & Puntero a la estructura de memoria \\
\hline
\mbox{\texttt{in}}  & {\em indice\+\_\+hueco} & Índice del hueco en el array de particiones \\
\hline
\mbox{\texttt{in}}  & {\em p} & \doxylink{struct_proceso}{Proceso} a asignar (se usa nombre y mem\+\_\+requerida)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
1 si se asignó correctamente 

0 si hubo error (hueco ocupado, tamaño insuficiente o array lleno)
\end{DoxyReturn}
\begin{DoxyPrecond}{Precondición}
0 \texorpdfstring{$<$}{<}= indice\+\_\+hueco \texorpdfstring{$<$}{<} m-\/\texorpdfstring{$>$}{>}cant\+\_\+particiones 

m-\/\texorpdfstring{$>$}{>}particiones\mbox{[}indice\+\_\+hueco\mbox{]}.estado == 0 (es un hueco)
\end{DoxyPrecond}
\begin{DoxyWarning}{Atención}
No verifica si el proceso ya existe en memoria 
\end{DoxyWarning}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_2_users_2julianhinojosagil_2_documents_2_dev_2noob-code_2_u_a_2year-2_2_o_s_2practica3_2src_2sim_engine_8h-example}{/\+Users/julianhinojosagil/\+Documents/\+Dev/noob-\/code/\+UA/year-\/2/\+OS/practica3/src/sim\+\_\+engine.\+h}}.\end{Desc}


Definición en la línea \mbox{\hyperlink{sim__engine_8c_source_l00031}{31}} del archivo \mbox{\hyperlink{sim__engine_8c_source}{sim\+\_\+engine.\+c}}.



Hace referencia a \mbox{\hyperlink{sim__engine_8h_source_l00092}{Memoria\+::cant\+\_\+particiones}}, \mbox{\hyperlink{sim__engine_8h_source_l00078}{Particion\+::dir\+\_\+inicio}}, \mbox{\hyperlink{sim__engine_8h_source_l00080}{Particion\+::estado}}, \mbox{\hyperlink{sim__engine_8h_source_l00042}{MAX\+\_\+\+PARTICIONES}}, \mbox{\hyperlink{sim__engine_8h_source_l00060}{Proceso\+::mem\+\_\+requerida}}, \mbox{\hyperlink{sim__engine_8h_source_l00058}{Proceso\+::nombre}}, \mbox{\hyperlink{sim__engine_8h_source_l00081}{Particion\+::nombre\+\_\+proceso}}, \mbox{\hyperlink{sim__engine_8h_source_l00091}{Memoria\+::particiones}}, \mbox{\hyperlink{sim__engine_8h_source_l00079}{Particion\+::tamano}} y \mbox{\hyperlink{sim__engine_8h_source_l00093}{Memoria\+::ultimo\+\_\+indice\+\_\+asignado}}.



Referenciado por \mbox{\hyperlink{sim__engine_8c_source_l00167}{asignar\+\_\+proceso()}}.

Gráfico de llamadas a esta función\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sim__engine_8c_a6a1089ddf1a175f89c026b773722dcd2_icgraph}
\end{center}
\end{figure}
